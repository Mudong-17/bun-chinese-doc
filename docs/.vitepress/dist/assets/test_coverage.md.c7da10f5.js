import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.33544f09.js";const d=JSON.parse('{"title":"Code coverage","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"test/coverage.md","filePath":"test/coverage.md"}'),p={name:"test/coverage.md"},o=l(`<h1 id="code-coverage" tabindex="-1">Code coverage <a class="header-anchor" href="#code-coverage" aria-label="Permalink to &quot;Code coverage&quot;">​</a></h1><p>Bun 的测试运行器现在支持内置的代码覆盖率报告功能。这使得很容易查看代码库有多少被测试覆盖了，以及找到当前没有得到很好测试的地方。</p><h2 id="启用覆盖率" tabindex="-1">启用覆盖率 <a class="header-anchor" href="#启用覆盖率" aria-label="Permalink to &quot;启用覆盖率&quot;">​</a></h2><p><code>bun:test</code>支持查看哪些代码行被测试覆盖。要使用此功能，将<code>--coverage</code>传递给 CLI。它将在控制台上打印出覆盖率报告：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">$ bun test </span><span style="color:#F97583;">--</span><span style="color:#E1E4E8;">coverage</span></span>
<span class="line"><span style="color:#F97583;">-------------|---------|---------|-------------------</span></span>
<span class="line"><span style="color:#E1E4E8;">File         </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> Funcs </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">%</span><span style="color:#E1E4E8;"> Lines </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> Uncovered Line #s</span></span>
<span class="line"><span style="color:#F97583;">-------------|---------|---------|-------------------</span></span>
<span class="line"><span style="color:#E1E4E8;">All files    </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">38.89</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">42.11</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">0.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">1.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">10.ts </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">2.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">3.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">4.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">5.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">6.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">7.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">8.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index</span><span style="color:#F97583;">-</span><span style="color:#E1E4E8;">9.ts  </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">33.33</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">   </span><span style="color:#79B8FF;">36.84</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">19</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">24</span></span>
<span class="line"><span style="color:#E1E4E8;"> index.ts    </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">100.00</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">100.00</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span></span>
<span class="line"><span style="color:#F97583;">-------------|---------|---------|-------------------</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">$ bun test </span><span style="color:#D73A49;">--</span><span style="color:#24292E;">coverage</span></span>
<span class="line"><span style="color:#D73A49;">-------------|---------|---------|-------------------</span></span>
<span class="line"><span style="color:#24292E;">File         </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> Funcs </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> Lines </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> Uncovered Line #s</span></span>
<span class="line"><span style="color:#D73A49;">-------------|---------|---------|-------------------</span></span>
<span class="line"><span style="color:#24292E;">All files    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">38.89</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">42.11</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">0.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">1.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">10.ts </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">2.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">3.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">4.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">5.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">6.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">7.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">8.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">9.ts  </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">33.33</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">   </span><span style="color:#005CC5;">36.84</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">15</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">19</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">24</span></span>
<span class="line"><span style="color:#24292E;"> index.ts    </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">100.00</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;">  </span><span style="color:#005CC5;">100.00</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span></span>
<span class="line"><span style="color:#D73A49;">-------------|---------|---------|-------------------</span></span></code></pre></div><p>要始终默认启用覆盖率报告，请将以下行添加到您的<code>bunfig.toml</code>：</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 总是启用覆盖率</span></span>
<span class="line"><span style="color:#E1E4E8;">coverage = </span><span style="color:#79B8FF;">true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 总是启用覆盖率</span></span>
<span class="line"><span style="color:#24292E;">coverage = </span><span style="color:#005CC5;">true</span></span></code></pre></div><p>默认情况下，覆盖率报告将包括测试文件，并排除源映射。这通常是您想要的，但可以在<code>bunfig.toml</code>中进行其他配置。</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">coverageSkipTestFiles = </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">       </span><span style="color:#6A737D;"># 默认为false</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">coverageSkipTestFiles = </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">       </span><span style="color:#6A737D;"># 默认为false</span></span></code></pre></div><h3 id="覆盖率阈值" tabindex="-1">覆盖率阈值 <a class="header-anchor" href="#覆盖率阈值" aria-label="Permalink to &quot;覆盖率阈值&quot;">​</a></h3><p>可以在<code>bunfig.toml</code>中指定覆盖率阈值。如果您的测试套件未达到或未达到此阈值，<code>bun test</code>将以非零退出代码退出，以指示失败。</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 要求90%的行级和函数级覆盖率</span></span>
<span class="line"><span style="color:#E1E4E8;">coverageThreshold = </span><span style="color:#79B8FF;">0.9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 为行和函数设置不同的阈值</span></span>
<span class="line"><span style="color:#E1E4E8;">coverageThreshold = { line = </span><span style="color:#79B8FF;">0.9</span><span style="color:#E1E4E8;">, function = </span><span style="color:#79B8FF;">0.9</span><span style="color:#E1E4E8;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 要求90%的行级和函数级覆盖率</span></span>
<span class="line"><span style="color:#24292E;">coverageThreshold = </span><span style="color:#005CC5;">0.9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 为行和函数设置不同的阈值</span></span>
<span class="line"><span style="color:#24292E;">coverageThreshold = { line = </span><span style="color:#005CC5;">0.9</span><span style="color:#24292E;">, function = </span><span style="color:#005CC5;">0.9</span><span style="color:#24292E;"> }</span></span></code></pre></div><h3 id="源映射" tabindex="-1">源映射 <a class="header-anchor" href="#源映射" aria-label="Permalink to &quot;源映射&quot;">​</a></h3><p>在内部，默认情况下，Bun 会转译所有文件，因此 Bun 会自动生成将原始源代码的行映射到 Bun 的内部表示的内部<a href="https://web.dev/source-maps/" target="_blank" rel="noreferrer">源映射</a>。如果出于任何原因要禁用此功能，请将<code>test.coverageIgnoreSourcemaps</code>设置为<code>false</code>；这在高级用例之外很少需要。</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">coverageIgnoreSourcemaps = </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;"># 默认为false</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">[</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">coverageIgnoreSourcemaps = </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">   </span><span style="color:#6A737D;"># 默认为false</span></span></code></pre></div>`,15),e=[o];function c(t,r,y,E,F,i){return n(),a("div",null,e)}const A=s(p,[["render",c]]);export{d as __pageData,A as default};
