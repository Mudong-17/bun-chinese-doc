import{_ as t}from"./chunks/bundler-speed.791c8ec5.js";import{_ as s,o as d,c as n,Q as a}from"./chunks/framework.33544f09.js";const m=JSON.parse('{"title":"vs esbuild","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"bundler/vs-esbuild.md","filePath":"bundler/vs-esbuild.md"}'),e={name:"bundler/vs-esbuild.md"},o=a('<h1 id="vs-esbuild" tabindex="-1">vs esbuild <a class="header-anchor" href="#vs-esbuild" aria-label="Permalink to &quot;vs esbuild&quot;">â€‹</a></h1><p>Bun çš„æ†ç»‘å™¨ API å—<a href="https://esbuild.github.io/" target="_blank" rel="noreferrer">esbuild</a>çš„å¼ºçƒˆå¯å‘ã€‚ä» esbuild è¿ç§»åˆ° Bun çš„æ†ç»‘å™¨åº”è¯¥ç›¸å¯¹æ— ç—›ã€‚æœ¬æŒ‡å—å°†ç®€è¦è§£é‡Šä¸ºä»€ä¹ˆæ‚¨å¯èƒ½è€ƒè™‘è¿ç§»åˆ° Bun çš„æ†ç»‘å™¨ï¼Œå¹¶ä¸ºé‚£äº›å·²ç»ç†Ÿæ‚‰ esbuild çš„ API çš„äººæä¾›äº†ä¸€ä¸ªå¹¶åˆ—çš„ API æ¯”è¾ƒå‚è€ƒã€‚</p><p>æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„è¡Œä¸ºå·®å¼‚ã€‚</p><ul><li><strong>é»˜è®¤æ†ç»‘</strong>ã€‚ä¸ esbuild ä¸åŒï¼ŒBun <em>å§‹ç»ˆé»˜è®¤æ†ç»‘</em>ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨ Bun ç¤ºä¾‹ä¸­ä¸éœ€è¦<code>--bundle</code>æ ‡å¿—çš„åŸå› ã€‚è¦å•ç‹¬è½¬è¯‘æ¯ä¸ªæ–‡ä»¶ï¼Œè¯·ä½¿ç”¨<a href="/api/transpiler.html"><code>Bun.Transpiler</code></a>ã€‚</li><li><strong>åªæ˜¯ä¸€ä¸ªæ†ç»‘å™¨</strong>ã€‚ä¸ esbuild ä¸åŒï¼ŒBun çš„æ†ç»‘å™¨ä¸åŒ…æ‹¬å†…ç½®çš„å¼€å‘æœåŠ¡å™¨æˆ–æ–‡ä»¶ç›‘è§†å™¨ã€‚å®ƒåªæ˜¯ä¸€ä¸ªæ†ç»‘å™¨ã€‚æ†ç»‘å™¨æ—¨åœ¨ä¸<code>Bun.serve</code>å’Œå…¶ä»–è¿è¡Œæ—¶ API ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å®ç°ç›¸åŒçš„æ•ˆæœã€‚å› æ­¤ï¼Œä¸ HTTP/æ–‡ä»¶ç›‘è§†ç›¸å…³çš„æ‰€æœ‰é€‰é¡¹éƒ½ä¸é€‚ç”¨ã€‚</li></ul><h2 id="æ€§èƒ½" tabindex="-1">æ€§èƒ½ <a class="header-anchor" href="#æ€§èƒ½" aria-label="Permalink to &quot;æ€§èƒ½&quot;">â€‹</a></h2><p>å…·æœ‰é¢å‘æ€§èƒ½çš„ APIï¼Œä¸ç»è¿‡å¹¿æ³›ä¼˜åŒ–çš„åŸºäº Zig çš„ JS/TS è§£æå™¨ç›¸ç»“åˆï¼ŒBun çš„æ†ç»‘å™¨æ¯” esbuild åœ¨ esbuild çš„<a href="https://github.com/oven-sh/bun/tree/main/bench/bundle" target="_blank" rel="noreferrer">three.js åŸºå‡†</a>ä¸Šå¿« 1.75 å€ã€‚</p><p><img src="'+t+`" alt="ä»å¤´å¼€å§‹æ†ç»‘10ä»½three.jså‰¯æœ¬ï¼Œå¸¦æœ‰sourcemapså’Œç¼©å°"></p><h2 id="cli-api" tabindex="-1">CLI API <a class="header-anchor" href="#cli-api" aria-label="Permalink to &quot;CLI API&quot;">â€‹</a></h2><p>Bun å’Œ esbuild éƒ½æä¾›äº†å‘½ä»¤è¡Œç•Œé¢ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">esbuild</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">å…¥å£</span><span style="color:#E1E4E8;">ç‚¹</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--outdir=out</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--bundle</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">build</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">å…¥å£</span><span style="color:#E1E4E8;">ç‚¹</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--outdir=out</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">esbuild</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">å…¥å£</span><span style="color:#24292E;">ç‚¹</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--outdir=out</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--bundle</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">build</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">å…¥å£</span><span style="color:#24292E;">ç‚¹</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--outdir=out</span></span></code></pre></div><p>åœ¨ Bun çš„ CLI ä¸­ï¼Œåƒ<code>--minify</code>è¿™æ ·çš„ç®€å•å¸ƒå°”æ ‡å¿—ä¸æ¥å—å‚æ•°ã€‚å…¶ä»–æ ‡å¿—ï¼Œå¦‚<code>--outdir &lt;è·¯å¾„&gt;</code>æ¥å—å‚æ•°ï¼›è¿™äº›æ ‡å¿—å¯ä»¥å†™æˆ<code>--outdir out</code>æˆ–<code>--outdir=out</code>ã€‚æŸäº›æ ‡å¿—ï¼Œå¦‚<code>--define</code>å¯ä»¥å¤šæ¬¡æŒ‡å®šï¼š<code>--define foo=bar --define bar=baz</code>ã€‚</p><table><thead><tr><th>esbuild</th><th>bun build</th><th></th></tr></thead><tbody><tr><td>--bundle</td><td>n/a</td><td>Bun å§‹ç»ˆæ†ç»‘ï¼Œä½¿ç”¨--no-bundle æ¥ç¦ç”¨æ­¤è¡Œä¸ºã€‚</td></tr><tr><td>--define:K=V</td><td>--define K=V</td><td>è¯­æ³•å·®å¼‚å°ï¼Œæ²¡æœ‰å†’å·ã€‚</td></tr><tr><td></td><td></td><td><code>bash $ esbuild --define:foo=bar $ bun build --define foo=bar</code></td></tr><tr><td><code>--external:&lt;pkg&gt; </code></td><td><code>--external &lt;pkg&gt;</code></td><td>è¯­æ³•å·®å¼‚å°ï¼Œæ²¡æœ‰å†’å·ã€‚</td></tr><tr><td></td><td></td><td><code>bash $ esbuild --external:react $ bun build --external react </code></td></tr><tr><td>--format</td><td>--format</td><td>Bun ç›®å‰ä»…æ”¯æŒ&quot;esm&quot;ï¼Œä½†è®¡åˆ’æ”¯æŒå…¶ä»–æ¨¡å—æ ¼å¼ã€‚esbuild é»˜è®¤ä¸º&quot;iife&quot;ã€‚</td></tr><tr><td>--loader:.ext=loader</td><td>--loader .ext:loader</td><td>Bun æ”¯æŒä¸€ç»„ä¸åŒçš„å†…ç½®åŠ è½½å™¨ï¼Œä¸ esbuild ä¸åŒï¼›æœ‰å…³å®Œæ•´å‚è€ƒï¼Œè¯·å‚é˜… Bundler &gt; Loadersã€‚å°šæœªå®ç° esbuild åŠ è½½å™¨ dataurlã€binaryã€base64ã€copy å’Œ emptyã€‚ --loader çš„è¯­æ³•ç•¥æœ‰ä¸åŒã€‚</td></tr><tr><td></td><td></td><td><code>bash $ esbuild app.ts --bundle --loader:.svg=text $ bun build app.ts --loader .svg:text </code></td></tr><tr><td>--minify</td><td>--minify</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>--outdir</td><td>--outdir</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>--outfile</td><td>--outfile</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>--packages</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--platform</td><td>--target</td><td>ä¸ºäº†ä¸ tsconfig ä¸€è‡´ï¼Œæ›´åä¸º--targetã€‚ä¸æ”¯æŒ neutralã€‚</td></tr><tr><td>--serve</td><td>n/a</td><td>ä¸é€‚ç”¨</td></tr><tr><td>--sourcemap</td><td>--sourcemap</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>--splitting</td><td>--splitting</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>--target</td><td>n/a</td><td>ä¸æ”¯æŒã€‚Bun çš„æ†ç»‘å™¨ç›®å‰ä¸æ‰§è¡Œè¯­æ³•ä¸‹çº§å¤„ç†ã€‚</td></tr><tr><td>--watch</td><td>--watch</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>--allow-overwrite</td><td>n/a</td><td>ä»ä¸å…è®¸è¦†ç›–</td></tr><tr><td>--analyze</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--asset-names</td><td>--asset-naming</td><td>ä¸ºäº†ä¸ JS API ä¸­çš„ naming ä¸€è‡´ï¼Œæ”¹å</td></tr><tr><td>--banner</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--certfile</td><td>n/a</td><td>ä¸é€‚ç”¨</td></tr><tr><td>--charset=utf8</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--chunk-names</td><td>--chunk-naming</td><td>ä¸ºäº†ä¸ JS API ä¸­çš„ naming ä¸€è‡´ï¼Œæ”¹å</td></tr><tr><td>--color</td><td>n/a</td><td>å§‹ç»ˆå¯ç”¨</td></tr><tr><td>--drop</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--entry-names</td><td>--entry-naming</td><td>ä¸ºäº†ä¸ JS API ä¸­çš„ naming ä¸€è‡´ï¼Œæ”¹å</td></tr><tr><td>--footer</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--global-name</td><td>n/a</td><td>ä¸é€‚ç”¨ï¼ŒBun ç›®å‰ä¸æ”¯æŒ iife è¾“å‡º</td></tr><tr><td>--ignore-annotations</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--inject</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--jsx</td><td><code>--jsx-runtime &lt;runtime&gt;</code></td><td>æ”¯æŒ&quot;automatic&quot;ï¼ˆä½¿ç”¨ jsx å˜æ¢ï¼‰å’Œ&quot;classic&quot;ï¼ˆä½¿ç”¨ React.createElementï¼‰</td></tr><tr><td>--jsx-dev</td><td>n/a</td><td>Bun ä» tsconfig.json ä¸­è¯»å– compilerOptions.jsxï¼Œä»¥ç¡®å®šé»˜è®¤å€¼ã€‚å¦‚æœ compilerOptions.jsx ä¸º&quot;react-jsx&quot;ï¼Œæˆ–è€… NODE_ENV=productionï¼ŒBun å°†ä½¿ç”¨ jsx å˜æ¢ã€‚å¦åˆ™ï¼Œå®ƒä½¿ç”¨ jsxDEVã€‚å¯¹äºä»»ä½•åˆ° Bun ä½¿ç”¨ jsxDEVã€‚æ†ç»‘å™¨ä¸æ”¯æŒ preserveã€‚</td></tr><tr><td>--jsx-factory</td><td>--jsx-factory</td><td></td></tr><tr><td>--jsx-fragment</td><td>--jsx-fragment</td><td></td></tr><tr><td>--jsx-import-source</td><td>--jsx-import-source</td><td></td></tr><tr><td>--jsx-side-effects</td><td>n/a</td><td>å‡å®š JSX å§‹ç»ˆæ˜¯æ— å‰¯ä½œç”¨çš„</td></tr><tr><td>--keep-names</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--keyfile</td><td>n/a</td><td>ä¸é€‚ç”¨</td></tr><tr><td>--legal-comments</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--log-level</td><td>n/a</td><td>ä¸æ”¯æŒã€‚å¯ä»¥åœ¨ bunfig.toml ä¸­è®¾ç½®ä¸º logLevelã€‚</td></tr><tr><td>--log-limit</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--log-override:X=Y</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--main-fields</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--mangle-cache</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--mangle-props</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--mangle-quoted</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--metafile</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--minify-whitespace</td><td>--minify-whitespace</td><td></td></tr><tr><td>--minify-identifiers</td><td>--minify-identifiers</td><td></td></tr><tr><td>--minify-syntax</td><td>--minify-syntax</td><td></td></tr><tr><td>--out-extension</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--outbase</td><td>--root</td><td></td></tr><tr><td>--preserve-symlinks</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--public-path</td><td>--public-path</td><td></td></tr><tr><td>--pure</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--reserve-props</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--resolve-extensions</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--servedir</td><td>n/a</td><td>ä¸é€‚ç”¨</td></tr><tr><td>--source-root</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--sourcefile</td><td>n/a</td><td>ä¸æ”¯æŒã€‚Bun ç›®å‰ä¸æ”¯æŒ stdin è¾“å…¥ã€‚</td></tr><tr><td>--sourcemap</td><td>--sourcemap</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>--sources-content</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--supported</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>--tree-shaking</td><td>n/a</td><td>å§‹ç»ˆä¸º true</td></tr><tr><td>--tsconfig</td><td>--tsconfig-override</td><td></td></tr><tr><td>--version</td><td>n/a</td><td>è¿è¡Œ bun --version ä»¥æŸ¥çœ‹ Bun çš„ç‰ˆæœ¬ã€‚</td></tr></tbody></table><h2 id="javascript-api" tabindex="-1">JavaScript API <a class="header-anchor" href="#javascript-api" aria-label="Permalink to &quot;JavaScript API&quot;">â€‹</a></h2><table><thead><tr><th>esbuild.build()</th><th>Bun.build()</th><th></th></tr></thead><tbody><tr><td>absWorkingDir</td><td>n/a</td><td>å§‹ç»ˆè®¾ç½®ä¸º process.cwd()</td></tr><tr><td>alias</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>allowOverwrite</td><td>n/a</td><td>å§‹ç»ˆä¸º false</td></tr><tr><td>assetNames</td><td>naming.asset</td><td>ä½¿ç”¨ä¸ esbuild ç›¸åŒçš„æ¨¡æ¿è¯­æ³•ï¼Œä½†å¿…é¡»æ˜¾å¼åŒ…å«[ext]ã€‚</td></tr><tr><td>banner</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>bundle</td><td>n/a</td><td>å§‹ç»ˆä¸º trueã€‚è¦è¿›è¡Œæ†ç»‘ä¹‹å¤–çš„è½¬è¯‘ï¼Œè¯·ä½¿ç”¨ Bun.Transpilerã€‚</td></tr><tr><td>charset</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>chunkNames</td><td>naming.chunk</td><td>ä½¿ç”¨ä¸ esbuild ç›¸åŒçš„æ¨¡æ¿è¯­æ³•ï¼Œä½†å¿…é¡»æ˜¾å¼åŒ…å«[ext]ã€‚</td></tr><tr><td>color</td><td>n/a</td><td>Bun å°†æ—¥å¿—è¿”å›åˆ°æ„å»ºç»“æœçš„ logs å±æ€§ä¸­ã€‚</td></tr><tr><td>conditions</td><td>n/a</td><td>ä¸æ”¯æŒã€‚å¯¼å‡ºæ¡ä»¶ä¼˜å…ˆçº§ç”± target ç¡®å®šã€‚</td></tr><tr><td>define</td><td>define</td><td></td></tr><tr><td>drop</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>entryNames</td><td>naming æˆ– naming.entry</td><td>Bun æ”¯æŒä¸€ä¸ª naming é”®ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–å¯¹è±¡ã€‚ä½¿ç”¨ä¸ esbuild ç›¸åŒçš„æ¨¡æ¿è¯­æ³•ï¼Œä½†å¿…é¡»æ˜¾å¼åŒ…å«[ext]ã€‚</td></tr><tr><td>entryPoints</td><td>entrypoints</td><td>å¤§å†™å·®å¼‚</td></tr><tr><td>external</td><td>external</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>footer</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>format</td><td>format</td><td>ç›®å‰ä»…æ”¯æŒ&quot;esm&quot;ã€‚è®¡åˆ’æ”¯æŒ&quot;cjs&quot;å’Œ&quot;iife&quot;ã€‚</td></tr><tr><td>globalName</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>ignoreAnnotations</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>inject</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>jsx</td><td>jsx</td><td>åœ¨ JS API ä¸­ä¸æ”¯æŒï¼Œåœ¨ tsconfig.json ä¸­é…ç½®</td></tr><tr><td>jsxDev</td><td>jsxDev</td><td>åœ¨ JS API ä¸­ä¸æ”¯æŒï¼Œåœ¨ tsconfig.json ä¸­é…ç½®</td></tr><tr><td>jsxFactory</td><td>jsxFactory</td><td>åœ¨ JS API ä¸­ä¸æ”¯æŒï¼Œåœ¨ tsconfig.json ä¸­é…ç½®</td></tr><tr><td>jsxFragment</td><td>jsxFragment</td><td>åœ¨ JS API ä¸­ä¸æ”¯æŒï¼Œåœ¨ tsconfig.json ä¸­é…ç½®</td></tr><tr><td>jsxImportSource</td><td>jsxImportSource</td><td>åœ¨ JS API ä¸­ä¸æ”¯æŒï¼Œåœ¨ tsconfig.json ä¸­é…ç½®</td></tr><tr><td>jsxSideEffects</td><td>jsxSideEffects</td><td>åœ¨ JS API ä¸­ä¸æ”¯æŒï¼Œåœ¨ tsconfig.json ä¸­é…ç½®</td></tr><tr><td>keepNames</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>legalComments</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>loader</td><td>loader</td><td>Bun æ”¯æŒä¸€ç»„ä¸åŒäº esbuild çš„å†…ç½®åŠ è½½å™¨ï¼›æœ‰å…³å®Œæ•´å‚è€ƒï¼Œè¯·å‚é˜… Bundler &gt; Loadersã€‚å°šæœªå®ç° esbuild åŠ è½½å™¨ dataurlã€binaryã€base64ã€copy å’Œ emptyã€‚</td></tr><tr><td>logLevel</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>logLimit</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>logOverride</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>mainFields</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>mangleCache</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>mangleProps</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>mangleQuoted</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>metafile</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>minify</td><td>minify</td><td>åœ¨ Bun ä¸­ï¼Œminify å¯ä»¥æ˜¯å¸ƒå°”å€¼æˆ–å¯¹è±¡ã€‚</td></tr><tr><td>minifyIdentifiers</td><td>minify.identifiers</td><td>è¯·å‚è§ minify</td></tr><tr><td>minifySyntax</td><td>minify.syntax</td><td>è¯·å‚è§ minify</td></tr><tr><td>minifyWhitespace</td><td>minify.whitespace</td><td>è¯·å‚è§ minify</td></tr><tr><td>nodePaths</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>outExtension</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>outbase</td><td>root</td><td>ä¸åŒçš„åç§°</td></tr><tr><td>outdir</td><td>outdir</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>outfile</td><td>outfile</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>packages</td><td>n/a</td><td>ä¸æ”¯æŒï¼Œä½¿ç”¨ external</td></tr><tr><td>platform</td><td>target</td><td>æ”¯æŒ&quot;bun&quot;ã€&quot;node&quot;å’Œ&quot;browser&quot;ï¼ˆé»˜è®¤ï¼‰ã€‚ä¸æ”¯æŒ&quot;neutral&quot;ã€‚</td></tr><tr><td>plugins</td><td>plugins</td><td>Bun çš„æ’ä»¶ API æ˜¯ esbuild çš„å­é›†ã€‚ä¸€äº› esbuild æ’ä»¶å¯ä»¥ä¸ Bun ç›´æ¥ä½¿ç”¨ã€‚</td></tr><tr><td>preserveSymlinks</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>publicPath</td><td>publicPath</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>pure</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>reserveProps</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>resolveExtensions</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>sourceRoot</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>sourcemap</td><td>sourcemap</td><td>æ”¯æŒ&quot;inline&quot;ã€&quot;external&quot;å’Œ&quot;none&quot;</td></tr><tr><td>sourcesContent</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>splitting</td><td>splitting</td><td>æ²¡æœ‰å·®å¼‚</td></tr><tr><td>stdin</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>supported</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>target</td><td>n/a</td><td>ä¸æ”¯æŒè¯­æ³•é™çº§</td></tr><tr><td>treeShaking</td><td>n/a</td><td>å§‹ç»ˆä¸º true</td></tr><tr><td>tsconfig</td><td>n/a</td><td>ä¸æ”¯æŒ</td></tr><tr><td>write</td><td>n/a</td><td>å¦‚æœè®¾ç½®äº† outdir/outfileï¼Œåˆ™ä¸º trueï¼Œå¦åˆ™ä¸º false</td></tr></tbody></table><h2 id="æ’ä»¶-api" tabindex="-1">æ’ä»¶ API <a class="header-anchor" href="#æ’ä»¶-api" aria-label="Permalink to &quot;æ’ä»¶ API&quot;">â€‹</a></h2><p>Bun çš„æ’ä»¶ API æ—¨åœ¨ä¸ esbuild å…¼å®¹ã€‚Bun ä¸æ”¯æŒ esbuild çš„å®Œæ•´æ’ä»¶ API è¡¨é¢ï¼Œä½†å·²å®ç°æ ¸å¿ƒåŠŸèƒ½ã€‚è®¸å¤šç¬¬ä¸‰æ–¹<code>esbuild</code>æ’ä»¶å°†ä¸ Bun ä¸€èµ·å³æ’å³ç”¨ã€‚</p><blockquote><p>ä»é•¿è¿œæ¥çœ‹ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å®ç°ä¸ esbuild çš„ API åŠŸèƒ½ç›¸ç­‰ï¼Œå› æ­¤å¦‚æœæŸäº›åŠŸèƒ½æ— æ³•æ­£å¸¸å·¥ä½œï¼Œè¯·æäº¤é—®é¢˜ä»¥å¸®åŠ©æˆ‘ä»¬è®¾ç½®ä¼˜å…ˆçº§ã€‚</p></blockquote><p>åœ¨ Bun å’Œ esbuild ä¸­ï¼Œæ’ä»¶æ˜¯ä½¿ç”¨<code>builder</code>å¯¹è±¡å®šä¹‰çš„ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> { BunPlugin } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;bun&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">myPlugin</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">BunPlugin</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&quot;my-plugin&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">builder</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å®šä¹‰æ’ä»¶</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> { BunPlugin } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;bun&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">myPlugin</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BunPlugin</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&quot;my-plugin&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">(</span><span style="color:#E36209;">builder</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// å®šä¹‰æ’ä»¶</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><p><code>builder</code>å¯¹è±¡æä¾›äº†ä¸€äº›æ–¹æ³•ï¼Œç”¨äºé’©å…¥æ†ç»‘è¿‡ç¨‹çš„å„ä¸ªéƒ¨åˆ†ã€‚Bun å®ç°äº†<code>onResolve</code>å’Œ<code>onLoad</code>ï¼›å®ƒå°šæœªå®ç° esbuild çš„<code>onStart</code>ã€<code>onEnd</code>ã€<code>onDispose</code>å’Œ<code>resolve</code>é’©å­ï¼Œä»¥åŠ<code>initialOptions</code>éƒ¨åˆ†å®ç°ï¼Œåªè¯»å¹¶ä¸”åªæœ‰ esbuild é€‰é¡¹çš„å­é›†ï¼›è¯·æ”¹ç”¨<a href="/bundler/plugins.html"><code>config</code></a>ï¼ˆä¸ Bun çš„<code>BuildConfig</code>æ ¼å¼ç›¸åŒï¼‰ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> { BunPlugin } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;bun&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">myPlugin</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">BunPlugin</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&quot;my-plugin&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">builder</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    builder.</span><span style="color:#B392F0;">onResolve</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">/* onResolve.options */</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      (</span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">/* onResolve.results */</span></span>
<span class="line"><span style="color:#E1E4E8;">        };</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">    builder.</span><span style="color:#B392F0;">onLoad</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">/* onLoad.options */</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      (</span><span style="color:#FFAB70;">args</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">/* onLoad.results */</span></span>
<span class="line"><span style="color:#E1E4E8;">        };</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> { BunPlugin } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;bun&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">myPlugin</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BunPlugin</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&quot;my-plugin&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">(</span><span style="color:#E36209;">builder</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    builder.</span><span style="color:#6F42C1;">onResolve</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">/* onResolve.options */</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      (</span><span style="color:#E36209;">args</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">/* onResolve.results */</span></span>
<span class="line"><span style="color:#24292E;">        };</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">    builder.</span><span style="color:#6F42C1;">onLoad</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">/* onLoad.options */</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      (</span><span style="color:#E36209;">args</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">/* onLoad.results */</span></span>
<span class="line"><span style="color:#24292E;">        };</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h3 id="onresolve" tabindex="-1"><code>onResolve</code> <a class="header-anchor" href="#onresolve" aria-label="Permalink to &quot;\`onResolve\`&quot;">â€‹</a></h3><h4 id="options" tabindex="-1"><code>options</code> <a class="header-anchor" href="#options" aria-label="Permalink to &quot;\`options\`&quot;">â€‹</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>ğŸŸ¢</td><td>filter</td></tr><tr><td>ğŸŸ¢</td><td>namespace</td></tr></tbody></table><h4 id="arguments" tabindex="-1"><code>arguments</code> <a class="header-anchor" href="#arguments" aria-label="Permalink to &quot;\`arguments\`&quot;">â€‹</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>ğŸŸ¢</td><td>path</td></tr><tr><td>ğŸŸ¢</td><td>importer</td></tr><tr><td>ğŸ”´</td><td>namespace</td></tr><tr><td>ğŸ”´</td><td>resolveDir</td></tr><tr><td>ğŸ”´</td><td>kind</td></tr><tr><td>ğŸ”´</td><td>pluginData</td></tr></tbody></table><h4 id="results" tabindex="-1"><code>results</code> <a class="header-anchor" href="#results" aria-label="Permalink to &quot;\`results\`&quot;">â€‹</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>ğŸŸ¢</td><td>namespace</td></tr><tr><td>ğŸŸ¢</td><td>path</td></tr><tr><td>ğŸ”´</td><td>errors</td></tr><tr><td>ğŸ”´</td><td>external</td></tr><tr><td>ğŸ”´</td><td>pluginData</td></tr><tr><td>ğŸ”´</td><td>pluginName</td></tr><tr><td>ğŸ”´</td><td>sideEffects</td></tr><tr><td>ğŸ”´</td><td>suffix</td></tr><tr><td>ğŸ”´</td><td>warnings</td></tr><tr><td>ğŸ”´</td><td>watchDirs</td></tr><tr><td>ğŸ”´</td><td>watchFiles</td></tr></tbody></table><h3 id="onload" tabindex="-1"><code>onLoad</code> <a class="header-anchor" href="#onload" aria-label="Permalink to &quot;\`onLoad\`&quot;">â€‹</a></h3><h4 id="options-1" tabindex="-1"><code>options</code> <a class="header-anchor" href="#options-1" aria-label="Permalink to &quot;\`options\`&quot;">â€‹</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>ğŸŸ¢</td><td><code>filter</code></td></tr><tr><td>ğŸŸ¢</td><td><code>namespace</code></td></tr></tbody></table><h4 id="arguments-1" tabindex="-1"><code>arguments</code> <a class="header-anchor" href="#arguments-1" aria-label="Permalink to &quot;\`arguments\`&quot;">â€‹</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>ğŸŸ¢</td><td><code>path</code></td></tr><tr><td>ğŸ”´</td><td><code>namespace</code></td></tr><tr><td>ğŸ”´</td><td><code>suffix</code></td></tr><tr><td>ğŸ”´</td><td><code>pluginData</code></td></tr></tbody></table><h4 id="results-1" tabindex="-1"><code>results</code> <a class="header-anchor" href="#results-1" aria-label="Permalink to &quot;\`results\`&quot;">â€‹</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>ğŸŸ¢</td><td><code>contents</code></td></tr><tr><td>ğŸŸ¢</td><td><code>loader</code></td></tr><tr><td>ğŸ”´</td><td><code>errors</code></td></tr><tr><td>ğŸ”´</td><td><code>pluginData</code></td></tr><tr><td>ğŸ”´</td><td><code>pluginName</code></td></tr><tr><td>ğŸ”´</td><td><code>resolveDir</code></td></tr><tr><td>ğŸ”´</td><td><code>warnings</code></td></tr><tr><td>ğŸ”´</td><td><code>watchDirs</code></td></tr><tr><td>ğŸ”´</td><td><code>watchFiles</code></td></tr></tbody></table>`,35),l=[o];function r(p,c,i,u,y,E){return d(),n("div",null,l)}const g=s(e,[["render",r]]);export{m as __pageData,g as default};
